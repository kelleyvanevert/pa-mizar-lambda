<!DOCTYPE HTML>
<html>
<head>
  <title>Dokko</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="[%= root %]style.css" />
</head>
<body>

<div class="sidebar-container">
  <div class="sidebar">
    <select class="files" onchange="window.location = this.options[this.selectedIndex].value;">
      [% config.files.map(function (file) { %]
      <option [%= (path === file.path ? 'selected="selected"' : '') %]
        value="[%= file.root + '' + file.path %].html">
        [%= file.path %]
      </option>
      [% }); %]
    </select>
    <p class="title"><a href="#[%= structure.id %]">[%= structure.title %]</a></p>
    [% var list = function (section) { %]
      [% section.children.map(function (child) { %]
      <li>
        <a href="#[%= child.id %]">
          <span class="id">[%= child.pid %]</span>
          <span class="title">[%= child.title %]</span>
        </a>
        [% if (child.children.length > 0) { %]
        <ul>[% list(child); %]</ul>
        [% } %]
      </li>
      [% }); %]
    [% }; %]
    <ul>[% list(structure); %]</ul>
  </div>
</div>

<table class="content">
  [% fragments.map(function (fragment, i) { %]
  <tr>
    <td class="">[%= fragment.html.doc %]</td>
    <td class=""><pre>[%= fragment.html.code %]</pre></td>
  </tr>
  [% }); %]
</table>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { availableFonts: ["TeX"], scale: 90 }
  });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<!--script src="http://code.jquery.com/jquery-latest.min.js"></script>-->
</body>
</html>